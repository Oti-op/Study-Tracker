<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h1>Study Tracker</h1>
    <p>Log your study sessions, view them and guage your progress with a chart</p>

    <!-- log a session -->
     <section>
        <h3>Enter a session</h3>
        <form id="sessionform">
            <input type="text" id="subject" name="subject" placeholder="subject (eg. math)" required><br>
            <input type="number" id="duration" name="duration" placeholder="duration (in minutes)" min="1" required><br>
            <input type="datetime-local" id="start_time" name="start_time" required>
            <div style="grid-column: 1 / span 3; display: flex; gap: 8px; margin-top: 8px;">
                <button id="add" type="submit">Add session</button>
                <button id="clear" type="button">Clear form</button>
                <button id="reload" type="button">Refresh list & chart</button>
            </div>
        </form>
     </section>
    <!-- view chart -->
     <section>
        <h3>Progress chart</h3>
        <div style="grid-column: 1 / span 3; display: flex; gap: 8px; margin-top: 8px;">
        <input type="text" placeholder="filter subject" id="filtersubject">
        <input type="date" id="fromdate">
        <input type="date" id="todate">
        <button id="applyfilters">apply</button>
        <button id="resetfilters">reset</button>
        </div>

        <div id="chart">
            <img id="chartimg" src="/app/routers/chart.py/progress.png"  alt="study progress chart">
        </div>
     </section>
    <!-- view sessions -->
     <section>
        <h3>Recent sessions</h3>
        <div id="sessioncount" class="small"></div>
        <table id="sessionstable">
            <thead>
                <tr><th>ID</th>Subject<th>Minutes</th><th>Staarted at</th></tr>
            </thead>
        </table>
     </section>

     <script>
        const apiBase = ""
        const form = document.getElementById("sessionform");
        const subjectinput = document.getElementById("subject");
        const durationinput = document.getElementById("duration");
        const starttimeinput = document.getElementById("start_time");
        const sessionstable = document.querySelector("#sessionstable tbody");
        const sessioncount = document.getElementById("sessioncount");
        const chartimg = document.getElementById("chartimg");
        const filtersubject = document.getElementById("filtersubject");
        const fromdate = document.getElementById("fromdate");
        const todate = document.getElementById("todate");

        function chartURL() {
            
        }
     </script>
</body>
</html>